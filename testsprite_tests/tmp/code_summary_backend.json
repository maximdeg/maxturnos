{
  "tech_stack": [
    "TypeScript",
    "Next.js 15",
    "Node.js",
    "PostgreSQL",
    "JWT",
    "bcrypt",
    "Zod",
    "Upstash Redis",
    "Pino (Logging)",
    "Whapi (WhatsApp API)",
    "Nodemailer"
  ],
  "features": [
    {
      "name": "Authentication API",
      "description": "Endpoints para autenticación de proveedores: registro, login y verificación de email mediante tokens JWT y Nodemailer.",
      "files": [
        "app/api/auth/register/route.ts",
        "app/api/auth/login/route.ts",
        "app/api/auth/verify-email/route.ts",
        "lib/auth.ts"
      ]
    },
    {
      "name": "Appointment Management API",
      "description": "Endpoints para crear, obtener y cancelar citas. Incluye validación de datos, transacciones de base de datos y envío de notificaciones WhatsApp.",
      "files": [
        "app/api/appointments/create/route.ts",
        "app/api/appointments/[id]/route.ts",
        "app/api/appointments/[id]/cancel/route.ts",
        "app/api/appointments/date/[date]/route.ts",
        "lib/db-transactions.ts",
        "lib/cancellation-token.ts"
      ]
    },
    {
      "name": "Available Times API",
      "description": "Endpoint que calcula y devuelve horarios disponibles para un proveedor en una fecha específica, considerando horarios de trabajo, citas existentes y días no laborables. Incluye caché para optimización.",
      "files": [
        "app/api/available-times/[date]/route.ts"
      ]
    },
    {
      "name": "Health Insurance API",
      "description": "Endpoint que devuelve la lista de obras sociales disponibles. Incluye caché para datos de referencia.",
      "files": [
        "app/api/health-insurance/route.ts",
        "data/obras-sociales.json"
      ]
    },
    {
      "name": "Provider Work Schedule API",
      "description": "Endpoints para obtener y gestionar horarios de trabajo de proveedores. Incluye caché para optimización.",
      "files": [
        "app/api/provider/[username]/work-schedule/route.ts",
        "app/api/proveedor/work-schedule/route.ts"
      ]
    },
    {
      "name": "Provider Profile API",
      "description": "Endpoints protegidos para que proveedores gestionen su perfil: actualizar información personal, cambiar contraseña, ver citas y calendario.",
      "files": [
        "app/api/proveedor/profile/route.ts",
        "app/api/proveedor/profile/password/route.ts",
        "app/api/proveedor/appointments/route.ts",
        "app/api/proveedor/calendar/route.ts"
      ]
    },
    {
      "name": "Unavailable Days API",
      "description": "Endpoints para gestionar días no laborables de proveedores.",
      "files": [
        "app/api/proveedor/unavailable-days/route.ts",
        "app/api/proveedor/unavailable-days/[id]/route.ts"
      ]
    },
    {
      "name": "Rate Limiting",
      "description": "Sistema de rate limiting para proteger endpoints públicos contra abuso, usando Upstash Redis o fallback en memoria. Soporta modo test con límites más permisivos.",
      "files": [
        "lib/rate-limit.ts"
      ]
    },
    {
      "name": "Database Transactions",
      "description": "Sistema de transacciones para operaciones críticas que garantiza consistencia de datos y rollback automático en caso de error.",
      "files": [
        "lib/db-transactions.ts",
        "lib/db.ts"
      ]
    },
    {
      "name": "Caching System",
      "description": "Sistema de caché para optimizar consultas frecuentes usando Upstash Redis o LRU cache en memoria.",
      "files": [
        "lib/cache.ts"
      ]
    },
    {
      "name": "Structured Logging",
      "description": "Sistema de logging estructurado usando Pino para desarrollo y producción, con loggers especializados por contexto.",
      "files": [
        "lib/logger.ts"
      ]
    },
    {
      "name": "WhatsApp Integration",
      "description": "Integración con Whapi para enviar mensajes de confirmación y cancelación de citas automáticamente a los pacientes.",
      "files": [
        "lib/whatsapp.ts"
      ]
    },
    {
      "name": "Email Service",
      "description": "Servicio de envío de emails usando Nodemailer con Google SMTP para verificación de cuentas de proveedores.",
      "files": [
        "lib/email.ts"
      ]
    },
    {
      "name": "Middleware",
      "description": "Middleware de Next.js para manejo de rutas protegidas y autenticación con JWT.",
      "files": [
        "middleware.ts"
      ]
    }
  ]
}

{
  "tech_stack": [
    "TypeScript",
    "Next.js 15",
    "React 19",
    "PostgreSQL",
    "Tailwind CSS",
    "shadcn/ui",
    "React Hook Form",
    "Zod",
    "TanStack Query",
    "Whapi (WhatsApp API)",
    "Nodemailer",
    "JWT",
    "bcrypt",
    "Upstash Redis",
    "Pino (Logging)"
  ],
  "features": [
    {
      "name": "Appointment Booking Form",
      "description": "Formulario principal para que los pacientes reserven citas con proveedores de salud. Incluye validación de datos, selección de fecha/hora, tipo de consulta/práctica, obra social y envío de confirmación por WhatsApp.",
      "files": [
        "components/agendar-visita/AppointmentForm.tsx",
        "components/agendar-visita/AvailableTimesComponentImproved.tsx",
        "app/[username]/agendar-visita/page.tsx"
      ]
    },
    {
      "name": "Provider Authentication",
      "description": "Sistema de autenticación para proveedores con registro, login, verificación de email mediante Nodemailer y gestión de sesiones con JWT.",
      "files": [
        "app/api/auth/register/route.ts",
        "app/api/auth/login/route.ts",
        "app/api/auth/verify-email/route.ts",
        "app/proveedor/register/page.tsx",
        "app/proveedor/login/page.tsx",
        "app/[username]/verificar-email/page.tsx",
        "lib/auth.ts"
      ]
    },
    {
      "name": "Provider Profile Management",
      "description": "Panel de administración para proveedores donde pueden ver sus citas, gestionar su perfil, horarios de trabajo, días no laborables y cambiar contraseña.",
      "files": [
        "app/proveedor/perfil/page.tsx",
        "app/proveedor/perfil/layout.tsx",
        "app/api/proveedor/profile/route.ts",
        "app/api/proveedor/profile/password/route.ts",
        "app/api/proveedor/appointments/route.ts",
        "app/api/proveedor/calendar/route.ts",
        "app/api/proveedor/work-schedule/route.ts",
        "app/api/proveedor/unavailable-days/route.ts"
      ]
    },
    {
      "name": "Appointment Management",
      "description": "Sistema completo de gestión de citas: creación, cancelación, visualización de detalles y envío de notificaciones por WhatsApp.",
      "files": [
        "app/api/appointments/create/route.ts",
        "app/api/appointments/[id]/cancel/route.ts",
        "app/api/appointments/[id]/route.ts",
        "app/api/appointments/date/[date]/route.ts",
        "app/[username]/cita/[id]/page.tsx",
        "lib/cancellation-token.ts"
      ]
    },
    {
      "name": "Available Times API",
      "description": "Endpoint que calcula y devuelve los horarios disponibles para un proveedor en una fecha específica, considerando horarios de trabajo, citas existentes y días no laborables.",
      "files": [
        "app/api/available-times/[date]/route.ts"
      ]
    },
    {
      "name": "Work Schedule Management",
      "description": "Gestión de horarios de trabajo de proveedores, incluyendo días de la semana y rangos de tiempo disponibles.",
      "files": [
        "app/api/provider/[username]/work-schedule/route.ts",
        "app/api/proveedor/work-schedule/route.ts"
      ]
    },
    {
      "name": "WhatsApp Integration",
      "description": "Integración con Whapi para enviar mensajes de confirmación y cancelación de citas automáticamente a los pacientes.",
      "files": [
        "lib/whatsapp.ts"
      ]
    },
    {
      "name": "Email Service",
      "description": "Servicio de envío de emails usando Nodemailer con Google SMTP para verificación de cuentas de proveedores.",
      "files": [
        "lib/email.ts"
      ]
    },
    {
      "name": "Database Transactions",
      "description": "Sistema de transacciones para operaciones críticas que garantiza consistencia de datos y rollback automático en caso de error.",
      "files": [
        "lib/db-transactions.ts",
        "lib/db.ts"
      ]
    },
    {
      "name": "Rate Limiting",
      "description": "Sistema de rate limiting para proteger endpoints públicos contra abuso, usando Upstash Redis o fallback en memoria.",
      "files": [
        "lib/rate-limit.ts"
      ]
    },
    {
      "name": "Caching System",
      "description": "Sistema de caché para optimizar consultas frecuentes como horarios disponibles, obras sociales y horarios de trabajo, usando Redis o LRU cache en memoria.",
      "files": [
        "lib/cache.ts"
      ]
    },
    {
      "name": "Structured Logging",
      "description": "Sistema de logging estructurado usando Pino para desarrollo y producción, con loggers especializados por contexto.",
      "files": [
        "lib/logger.ts"
      ]
    },
    {
      "name": "Health Insurance API",
      "description": "Endpoint que devuelve la lista de obras sociales disponibles para selección en el formulario de citas.",
      "files": [
        "app/api/health-insurance/route.ts",
        "data/obras-sociales.json"
      ]
    },
    {
      "name": "Provider Landing Page",
      "description": "Página de aterrizaje dinámica para cada proveedor basada en su username, mostrando información del proveedor y enlace al formulario de citas.",
      "files": [
        "app/[username]/page.tsx"
      ]
    },
    {
      "name": "UI Components",
      "description": "Componentes reutilizables de UI basados en shadcn/ui y Radix UI, incluyendo formularios, calendarios, botones, inputs, selects y más.",
      "files": [
        "components/ui/button.tsx",
        "components/ui/input.tsx",
        "components/ui/form.tsx",
        "components/ui/calendar.tsx",
        "components/ui/select.tsx",
        "components/ui/card.tsx",
        "components/ui/label.tsx",
        "components/ui/popover.tsx",
        "components/ui/tabs.tsx",
        "components/ui/alert.tsx",
        "components/ui/badge.tsx"
      ]
    },
    {
      "name": "Type Definitions",
      "description": "Definiciones de tipos TypeScript compartidas para toda la aplicación.",
      "files": [
        "lib/types.ts"
      ]
    },
    {
      "name": "Utility Functions",
      "description": "Funciones utilitarias para formateo, validación y operaciones comunes.",
      "files": [
        "lib/utils.ts"
      ]
    },
    {
      "name": "Middleware",
      "description": "Middleware de Next.js para manejo de rutas protegidas y autenticación.",
      "files": [
        "middleware.ts"
      ]
    }
  ]
}

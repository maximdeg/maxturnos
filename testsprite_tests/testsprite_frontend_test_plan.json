[
  {
    "id": "TC001",
    "title": "Successful multi-step appointment booking",
    "description": "Verify that a patient can successfully complete the multi-step appointment booking form with valid data and receive a WhatsApp confirmation.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to provider public booking page"
      },
      {
        "type": "action",
        "description": "Complete step 1: select visit type"
      },
      {
        "type": "action",
        "description": "Complete step 2: enter patient details with valid name and contact"
      },
      {
        "type": "action",
        "description": "Complete step 3: select health insurance compatible with visit type"
      },
      {
        "type": "action",
        "description": "Complete step 4: choose available date and time from dynamically populated slots"
      },
      {
        "type": "action",
        "description": "Submit the final booking form"
      },
      {
        "type": "assertion",
        "description": "Check the appointment is created successfully with a valid appointment ID"
      },
      {
        "type": "assertion",
        "description": "Verify WhatsApp confirmation message is sent to patient"
      },
      {
        "type": "assertion",
        "description": "Confirm patient is presented appointment details page"
      }
    ]
  },
  {
    "id": "TC002",
    "title": "Validation errors on incomplete or invalid booking form data",
    "description": "Verify that the appointment booking form enforces validation and prevents submission when required fields are incomplete or invalid.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to booking form page"
      },
      {
        "type": "action",
        "description": "Attempt to proceed without selecting visit type"
      },
      {
        "type": "assertion",
        "description": "Ensure validation error is shown preventing step progression"
      },
      {
        "type": "action",
        "description": "Input invalid patient contact (e.g., malformed phone number or empty name) and try to continue"
      },
      {
        "type": "assertion",
        "description": "Check validation messages for contact fields"
      },
      {
        "type": "action",
        "description": "Select incompatible health insurance for chosen visit type"
      },
      {
        "type": "assertion",
        "description": "Confirm validation error flags incompatible insurance"
      },
      {
        "type": "action",
        "description": "Try to select a past date or unavailable time slot"
      },
      {
        "type": "assertion",
        "description": "Verify form prevents selection and notifies user"
      }
    ]
  },
  {
    "id": "TC003",
    "title": "Provider registration with email verification workflow",
    "description": "Test the provider registration process including email verification link sending and completion before allowing login.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to provider registration page"
      },
      {
        "type": "action",
        "description": "Fill in registration form with valid provider details and submit"
      },
      {
        "type": "assertion",
        "description": "Check registration success response and that verification email is sent"
      },
      {
        "type": "action",
        "description": "Attempt to log in before email verification"
      },
      {
        "type": "assertion",
        "description": "Verify login is rejected with message to verify email address"
      },
      {
        "type": "action",
        "description": "Simulate clicking email verification link"
      },
      {
        "type": "assertion",
        "description": "Check email verified successfully and provider account activated"
      },
      {
        "type": "action",
        "description": "Log in with verified account"
      },
      {
        "type": "assertion",
        "description": "Verify login success and issuance of JWT session"
      }
    ]
  },
  {
    "id": "TC004",
    "title": "Provider dashboard profile and schedule management",
    "description": "Verify providers can update profile data, manage work schedules and unavailable days through the dashboard with immediate effect.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Log in as verified provider"
      },
      {
        "type": "action",
        "description": "Navigate to profile management section"
      },
      {
        "type": "action",
        "description": "Update profile information fields and save changes"
      },
      {
        "type": "assertion",
        "description": "Verify profile updates are saved and reflected in UI"
      },
      {
        "type": "action",
        "description": "Open work schedule management and add new weekly time ranges"
      },
      {
        "type": "assertion",
        "description": "Confirm work schedule updates are stored correctly and returned by API"
      },
      {
        "type": "action",
        "description": "Set unavailable dates or time slots for future days"
      },
      {
        "type": "assertion",
        "description": "Validate unavailable days are persisted and blocking those times from booking"
      }
    ]
  },
  {
    "id": "TC005",
    "title": "Appointment creation respects provider availability",
    "description": "Ensure the system only allows booking of appointment slots that are within the provider work schedule and not conflicting with existing appointments or unavailable periods.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Retrieve available time slots for a given provider and date via API"
      },
      {
        "type": "assertion",
        "description": "Check returned times fall only within defined work schedule intervals"
      },
      {
        "type": "assertion",
        "description": "Ensure slots that conflict with existing appointments or unavailable days are excluded"
      },
      {
        "type": "action",
        "description": "Try to book an appointment at an available slot"
      },
      {
        "type": "assertion",
        "description": "Confirm booking succeeds"
      },
      {
        "type": "action",
        "description": "Try to book an appointment at a time outside availability or blocked slot"
      },
      {
        "type": "assertion",
        "description": "Verify booking is rejected with appropriate error"
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Appointment cancellation respecting 12-hour cutoff policy",
    "description": "Verify patients can cancel appointments using secure token links only before the 12-hour cutoff and the system sends cancellation notification via WhatsApp.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Create an appointment scheduled more than 12 hours from now"
      },
      {
        "type": "action",
        "description": "Use secure token link to cancel the appointment"
      },
      {
        "type": "assertion",
        "description": "Confirm appointment status updates to cancelled"
      },
      {
        "type": "assertion",
        "description": "Verify WhatsApp cancellation notification sent to patient"
      },
      {
        "type": "action",
        "description": "Create an appointment within less than 12 hours from now"
      },
      {
        "type": "action",
        "description": "Attempt to cancel using token link"
      },
      {
        "type": "assertion",
        "description": "Check cancellation is rejected respecting the 12-hour policy"
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Provider password change via dashboard",
    "description": "Verify that a provider can successfully change their password using the dashboard and that the new password is required for subsequent login.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Log in with existing provider credentials"
      },
      {
        "type": "action",
        "description": "Navigate to password change section in provider dashboard"
      },
      {
        "type": "action",
        "description": "Input current password and new password and submit"
      },
      {
        "type": "assertion",
        "description": "Confirm password update success message"
      },
      {
        "type": "action",
        "description": "Log out and attempt login with old password"
      },
      {
        "type": "assertion",
        "description": "Verify login failure with old password"
      },
      {
        "type": "action",
        "description": "Log in with new password"
      },
      {
        "type": "assertion",
        "description": "Verify login succeeds with new password"
      }
    ]
  },
  {
    "id": "TC008",
    "title": "Health insurance options filtered by visit type",
    "description": "Ensure health insurance API returns the correct filtered list of insurances according to selected visit type during booking.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Request health insurance list for visit type A"
      },
      {
        "type": "assertion",
        "description": "Verify returned insurances are valid and applicable for visit type A"
      },
      {
        "type": "action",
        "description": "Request health insurance list for visit type B"
      },
      {
        "type": "assertion",
        "description": "Confirm returned insurances differ if expected and are valid for visit type B"
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Rate limiting enforcement on public endpoints",
    "description": "Test the rate limiting mechanism to ensure abuse is prevented on public API endpoints with appropriate fallback mechanisms.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Send rapid repeated requests to a public API endpoint (e.g., available times)"
      },
      {
        "type": "assertion",
        "description": "Verify that requests beyond the rate limit are rejected with correct HTTP status code"
      },
      {
        "type": "action",
        "description": "Check that fallback mechanism triggers if Redis is down"
      },
      {
        "type": "assertion",
        "description": "Confirm fallback rate limiting in-memory protects endpoints"
      }
    ]
  },
  {
    "id": "TC010",
    "title": "UI responsiveness and accessibility",
    "description": "Verify that the booking form and provider dashboard UI components render correctly and remain fully accessible and usable on various devices and browsers.",
    "category": "ui",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Access booking form and provider dashboard on desktop, tablet, and mobile devices"
      },
      {
        "type": "assertion",
        "description": "Check UI layout responsiveness and element visibility"
      },
      {
        "type": "action",
        "description": "Navigate using keyboard only through forms and dashboard controls"
      },
      {
        "type": "assertion",
        "description": "Confirm keyboard navigation works logically with focus indications"
      },
      {
        "type": "action",
        "description": "Use screen reader to interact with form fields and buttons"
      },
      {
        "type": "assertion",
        "description": "Verify appropriate ARIA labels and readable element descriptions"
      },
      {
        "type": "action",
        "description": "Check color contrast ratios on all UI components according to standards"
      },
      {
        "type": "assertion",
        "description": "Ensure color contrast meets accessibility guidelines"
      }
    ]
  },
  {
    "id": "TC011",
    "title": "Transactional integrity on appointment creation and cancellation",
    "description": "Validate that appointment creation and cancellation operations use database transactions to ensure data consistency and rollback on failures.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Simulate appointment creation with injected failure mid-transaction"
      },
      {
        "type": "assertion",
        "description": "Verify that no partial appointment data is persisted on failure"
      },
      {
        "type": "action",
        "description": "Perform appointment cancellation and simulate error during notification sending"
      },
      {
        "type": "assertion",
        "description": "Confirm appointment cancellation is rolled back if notification fails and database integrity maintained"
      }
    ]
  },
  {
    "id": "TC012",
    "title": "Structured logging validation",
    "description": "Confirm that structured logs are generated correctly for critical operations like authentication, appointment management, and errors, supporting debugging and monitoring.",
    "category": "functional",
    "priority": "Low",
    "steps": [
      {
        "type": "action",
        "description": "Perform provider login and check logs"
      },
      {
        "type": "assertion",
        "description": "Ensure logs include timestamp, user ID, event type, and outcome"
      },
      {
        "type": "action",
        "description": "Create an appointment and verify related logs"
      },
      {
        "type": "assertion",
        "description": "Confirm logs capture appointment details and status"
      },
      {
        "type": "action",
        "description": "Force API error by invalid input and check error log entry"
      },
      {
        "type": "assertion",
        "description": "Verify error logs have sufficient context and stack trace details"
      }
    ]
  }
]
